<!doctype html><html lang=zh-cn itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Hibernate注解 - itning</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=MobileOptimized content="width"><meta name=HandheldFriendly content="true"><meta name=applicable-device content="pc,mobile"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=mobile-web-app-capable content="yes"><meta name=author content="itning"><meta name=description content="类级别 @Entity 1 2 3 4 5 6 7  /** *（可选）实体名称。 *实体类的名称。 此名称是用来指 *查询中的实体。 该名称不能是保留字面值 *在Java持久性查询语言中。 */ String name() default &amp;#34;&amp;#34;;"><meta name=keywords content="itning,我们始终是路人,blog,java"><meta name=generator content="Hugo 0.68.1"><link rel=canonical href=https://blog.itning.top/post/2018/06/19/hibernate%E6%B3%A8%E8%A7%A3/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/sass/jane.min.af20b78e95c84de86b00a0242a4a77bd2601700e1b250edf27537d957ac0041d.css integrity="sha256-ryC3jpXITehrAKAkKkp3vSYBcA4bJQ7fJ1N9lXrABB0=" media=screen crossorigin=anonymous><meta property="og:title" content="Hibernate注解"><meta property="og:description" content="类级别
@Entity


1
2
3
4
5
6
7


/**
*（可选）实体名称。
*实体类的名称。 此名称是用来指
*查询中的实体。 该名称不能是保留字面值
*在Java持久性查询语言中。
*/
String name() default &#34;&#34;;"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.itning.top/post/2018/06/19/hibernate%E6%B3%A8%E8%A7%A3/"><meta property="article:published_time" content="2018-06-19T20:57:34+08:00"><meta property="article:modified_time" content="2018-06-19T20:57:34+08:00"><meta itemprop=name content="Hibernate注解"><meta itemprop=description content="类级别
@Entity


1
2
3
4
5
6
7


/**
*（可选）实体名称。
*实体类的名称。 此名称是用来指
*查询中的实体。 该名称不能是保留字面值
*在Java持久性查询语言中。
*/
String name() default &#34;&#34;;"><meta itemprop=datePublished content="2018-06-19T20:57:34+08:00"><meta itemprop=dateModified content="2018-06-19T20:57:34+08:00"><meta itemprop=wordCount content="638"><meta itemprop=keywords content="Hibernate,注解,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hibernate注解"><meta name=twitter:description content="类级别
@Entity


1
2
3
4
5
6
7


/**
*（可选）实体名称。
*实体类的名称。 此名称是用来指
*查询中的实体。 该名称不能是保留字面值
*在Java持久性查询语言中。
*/
String name() default &#34;&#34;;"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>itning</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><li class=mobile-menu-item><a class=menu-item-link href=https://blog.itning.top/>主页</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://blog.itning.top/post/>归档</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://blog.itning.top/tags/>标签</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://blog.itning.top/categories/>分类</a></li><li class=mobile-menu-item><a class=menu-item-link href=https://github.com/itning rel=noopener target=_blank>GitHub
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408 512.128C896 481.792 871.424 457.152 841.152 457.152z"/></svg></i></a></li></ul></nav><link href=https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.css rel=stylesheet><link href=https://cdn.bootcss.com/photoswipe/4.1.3/default-skin/default-skin.min.css rel=stylesheet><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header id=header class="header container"><div class=logo-wrapper><a href=/ class=logo>itning</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=https://blog.itning.top/>主页</a></li><li class=menu-item><a class=menu-item-link href=https://blog.itning.top/post/>归档</a></li><li class=menu-item><a class=menu-item-link href=https://blog.itning.top/tags/>标签</a></li><li class=menu-item><a class=menu-item-link href=https://blog.itning.top/categories/>分类</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/itning rel=noopener target=_blank>GitHub
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M623.36 272.96 473.216 423.04C467.2 429.056 467.072 438.656 472.896 444.416c0 0-6.72-6.656 1.6 1.6C496.064 467.648 528.64 500.224 528.64 500.224 534.464 506.048 544 505.856 550.016 499.904l150.08-150.144 67.328 66.432c9.024 8.96 27.456 4.544 30.4-8.96 19.968-92.608 46.656-227.52 46.656-227.52 6.848-34.496-16.192-56.704-49.92-49.92.0.0-134.656 26.816-227.328 46.784C560.32 178.048 556.352 182.272 554.752 187.136c-3.2 6.208-3.008 14.208 3.776 20.992L623.36 272.96z"/><path d="M841.152 457.152c-30.528.0-54.784 24.512-54.784 54.656V786.56H237.696V237.696h206.016c6.656.0 10.752.0 13.248.0C487.68 237.696 512 213.184 512 182.848 512 152.32 487.36 128 456.96 128H183.04C153.216 128 128 152.576 128 182.848c0 3.136.256 6.272.768 9.28C128.256 195.136 128 198.272 128 201.408v639.488c0 .064.0.192.0.256.0.128.0.192.0.32.0 30.528 24.512 54.784 54.784 54.784H829.76c6.592.0 9.728.0 11.712.0 28.736.0 52.928-22.976 54.464-51.968C896 843.264 896 842.304 896 841.344v-20.352V561.408 512.128C896 481.792 871.424 457.152 841.152 457.152z"/></svg></i></a></li></ul></nav></header><div id=mobile-panel><main id=main class="main bg-llight"><div class=content-wrapper><div id=content class="content container"><article class="post bg-white"><header class=post-header><h1 class=post-title>Hibernate注解</h1><div class=post-meta><time datetime=2018-06-19 class=post-time>2018年06月19日 20:57:34</time><div class=post-category><a href=https://blog.itning.top/categories/hibernate/>Hibernate</a></div><span class=more-meta>约 638 字</span>
<span class=more-meta>预计阅读 3 分钟</span>
<span id=busuanzi_container_page_pv>| 阅读 <span id=busuanzi_value_page_pv></span></span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#类级别>类级别</a><ul><li><a href=#entity>@Entity</a></li><li><a href=#table>@Table</a></li><li><a href=#embeddable>@Embeddable</a></li></ul></li><li><a href=#方法属性级别>方法/属性级别</a><ul><li><a href=#id>@Id</a></li><li><a href=#colum>@Colum</a></li><li><a href=#generatedvalue>@GeneratedValue</a></li><li><a href=#genericgenerator>@GenericGenerator</a></li><li><a href=#embedded>@Embedded</a></li><li><a href=#embeddedid>@EmbeddedId</a></li><li><a href=#transient>@Transient</a></li><li><a href=#onetoone>@OneToOne</a></li><li><a href=#joincolumn>@JoinColumn</a></li><li><a href=#jointable>@JoinTable</a></li><li><a href=#onetomany>@OneToMany</a></li><li><a href=#manytomany>@ManyToMany</a></li></ul></li></ul></nav></div></div><div class=post-content><h2 id=类级别>类级别</h2><h3 id=entity>@Entity</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=cm>/**
</span><span class=cm>*（可选）实体名称。
</span><span class=cm>*实体类的名称。 此名称是用来指
</span><span class=cm>*查询中的实体。 该名称不能是保留字面值
</span><span class=cm>*在Java持久性查询语言中。
</span><span class=cm>*/</span>
<span class=n>String</span> <span class=nf>name</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=table>@Table</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//表名 优先于@Entity(name=&#34;&#34;)
</span><span class=c1></span><span class=n>String</span> <span class=nf>name</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>

<span class=n>String</span> <span class=nf>catalog</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>

<span class=n>String</span> <span class=nf>schema</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//表的唯一约束
</span><span class=c1></span><span class=n>UniqueConstraint</span><span class=o>[]</span> <span class=nf>uniqueConstraints</span><span class=o>()</span> <span class=k>default</span> <span class=o>{</span> <span class=o>};</span>
<span class=c1>//表的索引
</span><span class=c1></span><span class=n>Index</span><span class=o>[]</span> <span class=nf>indexes</span><span class=o>()</span> <span class=k>default</span> <span class=o>{};</span>
</code></pre></td></tr></table></div></div><h3 id=embeddable>@Embeddable</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-mysql data-lang=mysql><span class=cm>/**
</span><span class=cm>嵌入类
</span><span class=cm>@Embeddable
</span><span class=cm>public class Info implements Serializable {
</span><span class=cm>    /**
</span><span class=cm>     * 家庭地址
</span><span class=cm>     */
</span><span class=cm>    private String address;
</span><span class=cm>    /**
</span><span class=cm>     * 电话
</span><span class=cm>     */
</span><span class=cm>    private int tel;
</span><span class=cm> }
</span><span class=cm>
</span><span class=cm>@Entity(name = &#34;t_user&#34;)
</span><span class=cm>public class User implements Serializable {
</span><span class=cm>    /**
</span><span class=cm>     * Id
</span><span class=cm>     */
</span><span class=cm>    @Id
</span><span class=cm>    private String id;
</span><span class=cm>    /**
</span><span class=cm>     * 用户名
</span><span class=cm>     */
</span><span class=cm>    @Column
</span><span class=cm>    private String username;
</span><span class=cm>    /**
</span><span class=cm>     * 密码
</span><span class=cm>     */
</span><span class=cm>    private String password;
</span><span class=cm>    /**
</span><span class=cm>     * 其他信息
</span><span class=cm>     */
</span><span class=cm>    private Info info;
</span><span class=cm>**/</span>

<span class=k>create</span> <span class=k>table</span> <span class=nf>t_user</span> <span class=p>(</span>
    <span class=n>id</span> <span class=kt>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>)</span> <span class=k>not</span> <span class=no>null</span><span class=p>,</span> 
    <span class=n>address</span> <span class=kt>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span> 
    <span class=n>tel</span> <span class=kt>integer</span> <span class=k>not</span> <span class=no>null</span><span class=p>,</span> 
    <span class=n>password</span> <span class=kt>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span> 
    <span class=n>username</span> <span class=kt>varchar</span><span class=p>(</span><span class=mi>255</span><span class=p>),</span> 
    <span class=k>primary</span> <span class=k>key</span> <span class=p>(</span><span class=n>id</span><span class=p>)</span>
<span class=p>)</span> <span class=kp>engine</span><span class=o>=</span><span class=n>MyISAM</span>
</code></pre></td></tr></table></div></div><h2 id=方法属性级别>方法/属性级别</h2><h3 id=id>@Id</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//表示主键
</span></code></pre></td></tr></table></div></div><h3 id=colum>@Colum</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//字段名,默认属性名
</span><span class=c1></span><span class=n>String</span> <span class=nf>name</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//唯一
</span><span class=c1></span><span class=kt>boolean</span> <span class=nf>unique</span><span class=o>()</span> <span class=k>default</span> <span class=kc>false</span><span class=o>;</span>
<span class=c1>//该字段是否允许空
</span><span class=c1></span><span class=kt>boolean</span> <span class=nf>nullable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=c1>//执行insert语句时,该字段是否出现在insert语句中
</span><span class=c1></span><span class=kt>boolean</span> <span class=nf>insertable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=c1>//更新(update)的时候是否更新该字段
</span><span class=c1></span><span class=kt>boolean</span> <span class=nf>updatable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=cm>/*
</span><span class=cm>当使用该属性 
</span><span class=cm>@Column(name = &#34;Email&#34;,columnDefinition=&#34;varchar(128) not null&#34;)
</span><span class=cm>    private String email;
</span><span class=cm>SQL语句为:
</span><span class=cm> `Email` varchar(128) NOT NULL
</span><span class=cm> ----------------
</span><span class=cm> @Column(name = &#34;Remark&#34;,columnDefinition=&#34;text&#34;)
</span><span class=cm>    private String remark;
</span><span class=cm>SQL语句:
</span><span class=cm> `Remark` text
</span><span class=cm>*/</span>
<span class=n>String</span> <span class=nf>columnDefinition</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//（可选）包含该列的表的名称。
</span><span class=c1></span><span class=n>String</span> <span class=nf>table</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//列长度 适用于string
</span><span class=c1></span><span class=kt>int</span> <span class=nf>length</span><span class=o>()</span> <span class=k>default</span> <span class=n>255</span><span class=o>;</span>
<span class=c1>//precision属性和scale属性表示精度，当字段类型为double时，precision表示数值的总长度，scale表示小数点所占的位数。
</span><span class=c1></span><span class=kt>int</span> <span class=nf>precision</span><span class=o>()</span> <span class=k>default</span> <span class=n>0</span><span class=o>;</span>
<span class=kt>int</span> <span class=nf>scale</span><span class=o>()</span> <span class=k>default</span> <span class=n>0</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=generatedvalue>@GeneratedValue</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//表示主键生成策略
</span><span class=c1>//public enum GenerationType{    
</span><span class=c1>//    TABLE,    使用指定表来决定主键取值 结合@TableGenerator使用
</span><span class=c1>//    SEQUENCE,    使用序列来决定主键取值
</span><span class=c1>//    IDENTITY,    根据数据库的Identity字段生成
</span><span class=c1>//    AUTO   根据底层数据库自动选择(mysql 默认自动增长(int))
</span><span class=c1>//}  
</span><span class=c1></span><span class=n>GenerationType</span> <span class=nf>strategy</span><span class=o>()</span> <span class=k>default</span> <span class=n>AUTO</span><span class=o>;</span>
<span class=c1>//表示主键生成器的名称
</span><span class=c1>//@GeneratedValue(generator=&#34;aaa&#34;)
</span><span class=c1>//@GenericGenerator(name = &#34;aaa&#34;,strategy = &#34;assigned&#34;)  //手工赋值
</span><span class=c1></span><span class=n>String</span> <span class=nf>generator</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=genericgenerator>@GenericGenerator</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=cm>/**
</span><span class=cm>hibernate提供多种主键生成策略，有点是类似于JPA，有的是hibernate特有： 
</span><span class=cm>native: 对于 oracle 采用 Sequence 方式，对于MySQL 和 SQL Server 采用identity（自增主键生成机制），native就是将主键的生成工作交由数据库完成，hibernate不管（很常用）。 
</span><span class=cm>uuid: 采用128位的uuid算法生成主键，uuid被编码为一个32位16进制数字的字符串。占用空间大（字符串类型）。 
</span><span class=cm>hilo: 使用hilo生成策略，要在数据库中建立一张额外的表，默认表名为hibernate_unique_key,默认字段为integer类型，名称是next_hi（比较少用）。 
</span><span class=cm>assigned: 在插入数据的时候主键由程序处理（很常用），这是 &lt;generator&gt;元素没有指定时的默认生成策略。等同于JPA中的AUTO。 
</span><span class=cm>identity: 使用SQL Server 和 MySQL 的自增字段，这个方法不能放到 Oracle 中，Oracle 不支持自增字段，要设定sequence（MySQL 和 SQL Server 中很常用）。 
</span><span class=cm>          等同于JPA中的INDENTITY。 
</span><span class=cm>select: 使用触发器生成主键（主要用于早期的数据库主键生成机制，少用）。 
</span><span class=cm>sequence: 调用底层数据库的序列来生成主键，要设定序列名，不然hibernate无法找到。 
</span><span class=cm>seqhilo: 通过hilo算法实现，但是主键历史保存在Sequence中，适用于支持 Sequence 的数据库，如 Oracle（比较少用） 
</span><span class=cm>increment: 插入数据的时候hibernate会给主键添加一个自增的主键，但是一个hibernate实例就维护一个计数器，所以在多个实例运行的时候不能使用这个方法。 
</span><span class=cm>foreign: 使用另外一个相关联的对象的主键。通常和&lt;one-to-one&gt;联合起来使用。 
</span><span class=cm>guid: 采用数据库底层的guid算法机制，对应MYSQL的uuid()函数，SQL Server的newid()函数，ORACLE的rawtohex(sys_guid())函数等。 
</span><span class=cm>uuid.hex: 看uuid，建议用uuid替换。 
</span><span class=cm>**/</span>
<span class=nd>@GeneratedValue</span><span class=o>(</span><span class=n>generator</span> <span class=o>=</span> <span class=s>&#34;paymentableGenerator&#34;</span><span class=o>)</span> 
<span class=nd>@GenericGenerator</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;paymentableGenerator&#34;</span><span class=o>,</span> <span class=n>strategy</span> <span class=o>=</span> <span class=s>&#34;uuid&#34;</span><span class=o>)</span>
<span class=kd>private</span> <span class=n>String</span> <span class=n>id</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=embedded>@Embedded</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//表示该属性的类是嵌入类,必须结合@Embeddable注解
</span></code></pre></td></tr></table></div></div><h3 id=embeddedid>@EmbeddedId</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//使用嵌入式主键类实现复合主键
</span><span class=c1>//必须实现 java.io.Serializable;
</span><span class=c1>//必须覆盖 equals hashCode方法
</span><span class=c1>//复合主键类上结合@Embeddable类注解
</span></code></pre></td></tr></table></div></div><h3 id=transient>@Transient</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//表示该属性不需要映射为一个字段
</span></code></pre></td></tr></table></div></div><h3 id=onetoone>@OneToOne</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//属性表示默认关联的实体类型。如果集合类中指定了具体类型了，不需要使用targetEntity.否则要指定
</span><span class=c1></span><span class=n>Class</span> <span class=nf>targetEntity</span><span class=o>()</span> <span class=k>default</span> <span class=kt>void</span><span class=o>.</span><span class=na>class</span><span class=o>;</span>
<span class=c1>//级联策略
</span><span class=c1></span><span class=n>CascadeType</span><span class=o>[]</span> <span class=nf>cascade</span><span class=o>()</span> <span class=k>default</span> <span class=o>{};</span>
<span class=c1>//加载策略:延迟加载 立即加载
</span><span class=c1></span><span class=n>FetchType</span> <span class=nf>fetch</span><span class=o>()</span> <span class=k>default</span> <span class=n>EAGER</span><span class=o>;</span>
<span class=cm>/**
</span><span class=cm>*（可选）关联是否可选。 如果设置
</span><span class=cm>*为false，则必须始终存在非空关系。
</span><span class=cm>*/</span>
<span class=kt>boolean</span> <span class=nf>optional</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=c1>//用于标记当实体之间是双向 控制权力交给主控方 在被控方加这个属性
</span><span class=c1></span><span class=n>String</span> <span class=nf>mappedBy</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=cm>/**
</span><span class=cm>理解CascadeType.REMOVE和orphanRemoval = true之间差异的简单方法。
</span><span class=cm>
</span><span class=cm>对于orphanRemoval：如果您调用setOrders（null），相关的Order实体将自动在数据库中被删除。
</span><span class=cm>
</span><span class=cm>删除级联：如果您调用setOrders（null），相关的Order实体将不会在数据库中自动删除。
</span><span class=cm>**/</span>
<span class=kt>boolean</span> <span class=nf>orphanRemoval</span><span class=o>()</span> <span class=k>default</span> <span class=kc>false</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=joincolumn>@JoinColumn</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//外键名,生成字段的时候用这个名字
</span><span class=c1></span><span class=n>String</span> <span class=nf>name</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//对应的关联字段名称,默认对面的主键
</span><span class=c1></span><span class=n>String</span> <span class=nf>referencedColumnName</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//是否唯一
</span><span class=c1></span><span class=kt>boolean</span> <span class=nf>unique</span><span class=o>()</span> <span class=k>default</span> <span class=kc>false</span><span class=o>;</span>
<span class=kt>boolean</span> <span class=nf>nullable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=kt>boolean</span> <span class=nf>insertable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=kt>boolean</span> <span class=nf>updatable</span><span class=o>()</span> <span class=k>default</span> <span class=kc>true</span><span class=o>;</span>
<span class=n>String</span> <span class=nf>columnDefinition</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=n>String</span> <span class=nf>table</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=n>ForeignKey</span> <span class=nf>foreignKey</span><span class=o>()</span> <span class=k>default</span> <span class=nd>@ForeignKey</span><span class=o>();</span>
</code></pre></td></tr></table></div></div><h3 id=jointable>@JoinTable</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//多对多
</span><span class=c1>//中间表 表名
</span><span class=c1></span><span class=n>String</span> <span class=nf>name</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
<span class=c1>//控制字段名
</span><span class=c1></span><span class=n>JoinColumn</span><span class=o>[]</span> <span class=nf>joinColumns</span><span class=o>()</span> <span class=k>default</span> <span class=o>{};</span>
<span class=c1>//反转控制字段名
</span><span class=c1></span><span class=n>JoinColumn</span><span class=o>[]</span> <span class=nf>inverseJoinColumns</span><span class=o>()</span> <span class=k>default</span> <span class=o>{};</span>
</code></pre></td></tr></table></div></div><h3 id=onetomany>@OneToMany</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=cm>/**
</span><span class=cm>     * 订单  会向order表自动添加字段:uid
</span><span class=cm>     * alter table t_order add constraint FKkymvvaj9rps3st3bkniqi0oci foreign key (uid)              * references t_user (id)
</span><span class=cm>     */</span>
    <span class=nd>@OneToMany</span><span class=o>(</span><span class=n>cascade</span> <span class=o>=</span> <span class=o>{</span><span class=n>CascadeType</span><span class=o>.</span><span class=na>MERGE</span><span class=o>,</span> <span class=n>CascadeType</span><span class=o>.</span><span class=na>REFRESH</span><span class=o>})</span>
    <span class=nd>@JoinColumn</span><span class=o>(</span><span class=n>name</span> <span class=o>=</span> <span class=s>&#34;uid&#34;</span><span class=o>)</span>
    <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Order</span><span class=o>&gt;</span> <span class=n>orderList</span><span class=o>;</span>
</code></pre></td></tr></table></div></div><h3 id=manytomany>@ManyToMany</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-java data-lang=java><span class=c1>//用于标记当实体之间是双向 控制权力交给主控方 在被控方加这个属性
</span><span class=c1></span><span class=n>String</span> <span class=nf>mappedBy</span><span class=o>()</span> <span class=k>default</span> <span class=s>&#34;&#34;</span><span class=o>;</span>
</code></pre></td></tr></table></div></div></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>itning</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2018年06月19日 20:57:34</span></p><p class=copyright-item><span class=item-title>许可协议</span>
<span class=item-content><a rel="license noopener" href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank>CC BY-NC-ND 4.0</a></span></p></div><footer class=post-footer><div class=post-tags><a href=https://blog.itning.top/tags/hibernate/>Hibernate</a>
<a href=https://blog.itning.top/tags/%E6%B3%A8%E8%A7%A3/>注解</a></div><nav class=post-nav><a class=prev href=/post/2018/07/24/android%E6%8E%A7%E4%BB%B6material-design%E6%8E%A7%E4%BB%B6/><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M691.908486 949.511495l75.369571-89.491197c10.963703-12.998035 10.285251-32.864502-1.499144-44.378743L479.499795 515.267417l277.93508-310.326815c11.338233-12.190647 11.035334-32.285311-.638543-44.850487l-80.46666-86.564541c-11.680017-12.583596-30.356378-12.893658-41.662889-.716314L257.233596 494.235404c-11.332093 12.183484-11.041474 32.266891.657986 44.844348l80.46666 86.564541c1.772366 1.910513 3.706415 3.533476 5.750981 4.877077l306.620399 321.703933C662.505829 963.726242 680.945807 962.528973 691.908486 949.511495z"/></svg></i><span class="prev-text nav-default">Android控件&Material-Design控件</span>
<span class="prev-text nav-mobile">上一篇</span></a>
<a class=next href=/post/2018/06/17/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/><span class="next-text nav-default">操作系统</span>
<span class="prev-text nav-mobile">下一篇</span>
<i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="18" height="18"><path d="M332.091514 74.487481l-75.369571 89.491197c-10.963703 12.998035-10.285251 32.864502 1.499144 44.378743l286.278095 300.375162L266.565125 819.058374c-11.338233 12.190647-11.035334 32.285311.638543 44.850487l80.46666 86.564541c11.680017 12.583596 30.356378 12.893658 41.662889.716314l377.434212-421.426145c11.332093-12.183484 11.041474-32.266891-.657986-44.844348l-80.46666-86.564541c-1.772366-1.910513-3.706415-3.533476-5.750981-4.877077L373.270379 71.774697C361.493148 60.273758 343.054193 61.470003 332.091514 74.487481z"/></svg></i></a></nav></footer></article><div class="post bg-white"><script src=https://utteranc.es/client.js repo=itning/blog issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></div></div></main><footer id=footer class=footer><div class=icon-links><a href=mailto:itning@itning.top rel="me noopener" class=iconfont title=email><svg class="icon" viewBox="0 0 1451 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M664.781909 681.472759.0 97.881301C0 3.997201 71.046997.0 71.046997.0H474.477909 961.649408 1361.641813S1432.688811 3.997201 1432.688811 97.881301L771.345323 681.472759S764.482731 685.154773 753.594283 688.65053V688.664858C741.602731 693.493018 729.424896 695.068979 718.077952 694.839748 706.731093 695.068979 694.553173 693.493018 682.561621 688.664858V688.65053C671.644501 685.140446 664.781909 681.472759 664.781909 681.472759zM718.063616 811.603883C693.779541 811.016482 658.879232 802.205449 619.10784 767.734955 542.989056 701.759633.0 212.052267.0 212.052267V942.809523L83.726336 1024H682.532949 753.579947 1348.948139L1432.688811 942.809523V212.052267S893.138176 701.759633 817.019477 767.734955C777.248 802.205449 742.347691 811.03081 718.063616 811.603883z"/></svg></a><a href=http://github.com/itning rel="me noopener" class=iconfont title=github target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="36" height="36"><path d="M512 12.672c-282.88.0-512 229.248-512 512 0 226.261333 146.688 418.133333 350.08 485.76 25.6 4.821333 34.986667-11.008 34.986667-24.618667.0-12.16-.426667-44.373333-.64-87.04-142.421333 30.890667-172.458667-68.693333-172.458667-68.693333C188.672 770.986667 155.008 755.2 155.008 755.2c-46.378667-31.744 3.584-31.104 3.584-31.104 51.413333 3.584 78.421333 52.736 78.421333 52.736 45.653333 78.293333 119.850667 55.68 149.12 42.581333 4.608-33.109333 17.792-55.68 32.426667-68.48-113.706667-12.8-233.216-56.832-233.216-253.013333.0-55.893333 19.84-101.546667 52.693333-137.386667-5.76-12.928-23.04-64.981333 4.48-135.509333.0.0 42.88-13.738667 140.8 52.48 40.96-11.392 84.48-17.024 128-17.28 43.52.256 87.04 5.888 128 17.28 97.28-66.218667 140.16-52.48 140.16-52.48 27.52 70.528 10.24 122.581333 5.12 135.509333 32.64 35.84 52.48 81.493333 52.48 137.386667.0 196.693333-119.68 240-233.6 252.586667 17.92 15.36 34.56 46.762667 34.56 94.72.0 68.522667-.64 123.562667-.64 140.202666.0 13.44 8.96 29.44 35.2 24.32C877.44 942.592 1024 750.592 1024 524.672c0-282.752-229.248-512-512-512"/></svg></a><a href=https://blog.itning.top/index.xml rel="noopener alternate" type=application/rss+xml class=iconfont title=rss target=_blank><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30" height="30"><path d="M819.157333 1024C819.157333 574.592 449.408 204.8.0 204.8V0c561.706667.0 1024 462.293333 1024 1024H819.157333zM140.416 743.04a140.8 140.8.0 01140.501333 140.586667A140.928 140.928.0 01140.074667 1024C62.72 1024 0 961.109333.0 883.626667S62.933333 743.082667 140.416 743.04zM678.784 1024h-199.04c0-263.210667-216.533333-479.786667-479.744-479.786667V345.173333c372.352.0 678.784 306.517333 678.784 678.826667z"/></svg></a></div><div class=copyright><span class=copyright-year>&copy;
2016 -
2020
<span class=heart><i class=iconfont><svg class="icon" viewBox="0 0 1025 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="14" height="14"><path d="M1000.1 247.9c-15.5-37.3-37.6-70.6-65.7-98.9-54.4-54.8-125.8-85-201-85-85.7.0-166 39-221.4 107.4C456.6 103 376.3 64 290.6 64c-75.1.0-146.5 30.4-201.1 85.6-28.2 28.5-50.4 61.9-65.8 99.3-16 38.8-24 79.9-23.6 122.2.7 91.7 40.1 177.2 108.1 234.8 3.1 2.6 6 5.1 8.9 7.8 14.9 13.4 58 52.8 112.6 102.7 93.5 85.5 209.9 191.9 257.5 234.2 7 6.1 15.8 9.5 24.9 9.5 9.2.0 18.1-3.4 24.9-9.5 34.5-30.7 105.8-95.9 181.4-165 74.2-67.8 150.9-138 195.8-178.2 69.5-57.9 109.6-144.4 109.9-237.3.1-42.5-8-83.6-24-122.2z" fill="#8a8a8a"/></svg></i></span><span class=author>itning
</span><script type=text/javascript>document.write(unescape("%3Cspan id='cnzz_stat_icon_1278714977'%3E%3C/span%3E%3Cscript src='https://v1.cnzz.com/z_stat.php%3Fid%3D1278714977%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));</script></span><span id=busuanzi_container>访客数/访问量：<span id=busuanzi_value_site_uv></span>/<span id=busuanzi_value_site_pv></span></span>
<span>黑ICP备17003448号</span></div></footer><div class=back-to-top id=back-to-top><i class=iconfont><svg class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="35" height="35"><path d="M510.866688 227.694839 95.449397 629.218702h235.761562L329.15309 958.01517h362.40389L691.55698 628.188232l241.942331-3.089361L510.866688 227.694839zM63.840492 63.962777h894.052392v131.813095H63.840492V63.962777zm0 0"/></svg></i></div></div><script src=https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js></script><script src=https://cdn.bootcss.com/slideout/1.0.1/slideout.min.js></script><script type=text/javascript src=/js/main.dee43230127a73d039a734510fa896c89c3c7ce0cf0be0c7a7433f8fd69b76dc.js crossorigin=anonymous></script><script type=text/javascript src=/js/load-photoswipe.js></script><script src=https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe.min.js></script><script src=https://cdn.bootcss.com/photoswipe/4.1.3/photoswipe-ui-default.min.js></script><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script></body></html>